/*!
 * react-duallistbox - a dual list box for selecting and moving data using react
 * @version v0.1.0
 * @link https://github.com/killyosaur/react-duallistbox#readme
 * @license CC-BY-SA-4.0
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.DualListBox=e(require("react")):t.DualListBox=e(t.React)}(this,function(t){return function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";var i=s(1),r=i.PropTypes,o=s(2),n=i.createClass({displayName:"DualListBox",propTypes:{text:r.string.isRequired,value:r.string.isRequired,sourceTitle:r.string,destinationTitle:r.string,timeout:r.number,textLength:r.number,moveAllBtn:r.bool,maxAllBtn:r.number,warning:r.string,sortBy:r.string,source:r.arrayOf(r.object).isRequired,destination:r.arrayOf(r.object).isRequired,onChange:r.func},getInitialState:function(){return{sourceData:[],destinationData:[]}},getDefaultProps:function(){return{text:"name",value:"id",sourceTitle:"Available Items",destinationTitle:"Selected Items",timeout:500,textLength:45,moveAllBtn:!0,maxAllBtn:500,height:"300px",sortBy:"name",warning:"Are you sure you want to move this many items? Doing so can cause your browser to become unresponsive."}},componentWillMount:function(){var t=this.removeData(this.props.source,this.props.destination).sort(this.compare);this.setState({sourceData:t,destinationData:this.props.destination.sort(this.compare)})},componentWillReceiveProps:function(t){var e=this.removeData(t.source,t.destination).sort(this.compare);this.setState({sourceData:e,destinationData:t.destination.sort(this.compare)})},removeData:function(t,e){for(var s=[],i=0;i<t.length;i++){var r=this.getIndex(e,t[i]);-1===r&&s.push(t[i])}return s},getIndex:function(t,e){var s=0,i=t.length;if(!t||0===t.length)return-1;for(;i>s;s++)if(t[s][this.props.value]===e[this.props.value])return s;return-1},compare:function(t,e){return"string"==typeof t[this.props.sortBy]&&"string"==typeof e[this.props.sortBy]?t[this.props.sortBy].localeCompare(e[this.props.sortBy]):t[this.props.sortBy]===e[this.props.sortBy]?0:t[this.props.sortBy]>e[this.props.sortBy]?1:-1},moveLeft:function(t){var e=this.state.sourceData.concat(t).sort(this.compare),s=this.removeData(this.state.destinationData,t);this.setState({sourceData:e,destinationData:s}),this.props.onChange&&this.props.onChange(s)},moveRight:function(t){var e=this.removeData(this.state.sourceData,t),s=this.state.destinationData.concat(t).sort(this.compare);this.setState({sourceData:e,destinationData:s}),this.props.onChange&&this.props.onChange(s)},render:function(){return i.createElement("div",{className:"form-group row"},i.createElement(o,{ref:"source",title:this.props.sourceTitle,source:this.state.sourceData,moveAllBtn:this.props.moveAllBtn,onMove:this.moveRight,textLength:this.props.textLength,text:this.props.text,value:this.props.value,disable:this.props.disable,height:this.props.height,direction:"right"}),i.createElement(o,{ref:"destination",title:this.props.destinationTitle,source:this.state.destinationData,moveAllBtn:this.props.moveAllBtn,onMove:this.moveLeft,textLength:this.props.textLength,text:this.props.text,value:this.props.value,disable:this.props.disable,height:this.props.height,direction:"left"}))}});t.exports=n},function(e,s){e.exports=t},function(t,e,s){"use strict";var i=s(1),r=i.PropTypes,o=s(3),n=s(4),a=i.createClass({displayName:"ListBox",propTypes:{title:r.string.isRequired,source:r.arrayOf(r.object).isRequired,moveAllBtn:r.bool.isRequired,onMove:r.func.isRequired,textLength:r.number,text:r.string.isRequired,value:r.string.isRequired,direction:r.string.isRequired},getInitialState:function(){return{selected:[],filter:"",filteredData:[],onClickDisabled:!0,onClickAllDisabled:!0}},componentWillMount:function(){this.setState({filteredData:this.props.source,onClickAllDisabled:this.props.disable||0===this.props.source.length})},componentWillReceiveProps:function(t){if(this.props.source!==t.source){var e=this.filterData(this.state.filter,t.source);this.setState({filteredData:e,onClickAllDisabled:this.props.disable||0===e.length,selected:[],onClickDisabled:!0})}},onClickAll:function(t){this.deselectItems(),this.props.onMove(this.state.filteredData)},onClick:function(t){this.deselectItems(),this.props.onMove(this.state.selected)},deselectItems:function(){for(var t=0;t<this.state.selected.length;t++)this.refs.select.options[this.state.selected[t].optionId].selected=!1},handleFilterChange:function(t){var e="";e=null!==this.filterBox?this.filterBox.refs.filter.input||t.target.value:t.target.value,this.deselectItems();var s=this.filterData(e);this.setState({filter:e,filteredData:s,selected:[],onClickDisabled:!0,onClickAllDisabled:this.props.disable||0===s.length})},handleSelectChange:function(t){for(var e=this,s=[],i=this.props.disable,r=this.refs.select||t.target,o=0,n=r.options.length;n>o;o++)if(r.options[o].selected){var a=r.options[o].value,l=this.props.source.filter(function(t){return t[e.props.value]==a});l.length>0&&(l[0].optionId=o,s.push(l[0]))}i||0!==s.length||(i=!0),this.setState({selected:s,onClickDisabled:i})},buttons:function(){var t=[],e=function(t,e,s,r){return i.createElement(o,{key:r,click:t[s],width:t.props.moveAllBtn?6:12,disable:t.state[s+"Disabled"],classes:e})},s="glyphicon-chevron-"+this.props.direction.toLowerCase();switch(this.props.direction.toLowerCase()){case"right":this.props.moveAllBtn===!0&&t.push(e(this,["glyphicon-list",s],"onClickAll",1)),t.push(e(this,[s],"onClick",2));break;case"left":t.push(e(this,[s],"onClick",3)),this.props.moveAllBtn===!0&&t.push(e(this,[s,"glyphicon-list"],"onClickAll",4))}return t},filterData:function(t,e){var s=this,e=e||this.props.source;if(""===t||void 0===t)return e;var i=e.filter(function(e){return e[s.props.text].toLowerCase().indexOf(t.toLowerCase())>-1});return i},render:function(){var t=this,e=this.state.filteredData.map(function(e,s){var r=e[t.props.text];return i.createElement("option",{key:s,value:e[t.props.value]},t.props.textLength>0&&r.length>t.props.textLength?r.substring(0,t.props.textLength-3)+"...":r)},this);return i.createElement("div",{className:"col-sm-6"},i.createElement("h4",null,this.props.title,i.createElement("small",null," - showing ",this.state.filteredData.length)),i.createElement(n,{handleFilterChange:this.handleFilterChange,ref:function(e){return t.filterBox=e}}),this.buttons(),i.createElement("select",{ref:"select",style:{width:"100%",height:this.props.height||"200px"},multiple:"multiple",onChange:this.handleSelectChange},e))}});t.exports=a},function(t,e,s){"use strict";var i=s(1),r=i.PropTypes,o=i.createClass({displayName:"ButtonComponent",propTypes:{classes:r.arrayOf(r.string).isRequired,click:r.func,width:r.number.isRequired,disable:r.bool},getDefaultProps:function(){return{width:12,click:function(){},classes:[],bool:!1}},getIcons:function(){var t=this.props.classes.map(function(t,e){return i.createElement("i",{key:e,className:"glyphicon "+t})});return t},render:function(){return i.createElement("button",{className:"btn btn-default col-sm-"+this.props.width,style:{marginBottom:"5px"},type:"button",onClick:this.props.click,disabled:this.props.disable},this.getIcons())}});t.exports=o},function(t,e,s){"use strict";var i=s(1),r=i.PropTypes,o=i.createClass({displayName:"FilterBox",propTypes:{handleFilterChange:r.func.isRequired},render:function(){return i.createElement("input",{style:{marginBottom:"5px"},className:"filter form-control",ref:"filter",type:"text",placeholder:"Filter",onChange:this.props.handleFilterChange})}});t.exports=o}])});